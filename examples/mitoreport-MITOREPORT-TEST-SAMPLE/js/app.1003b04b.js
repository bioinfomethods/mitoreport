(function(t){function e(e){for(var n,s,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("ecfe")},2479:function(t,e,a){"use strict";a("6a6e")},"32fe":function(t,e,a){},3894:function(t,e,a){},"3db9":function(t,e,a){"use strict";a("e222")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=a("f309");n["a"].use(i["a"]);var r={},s=new i["a"](r),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{mitoreport:""}},[a("v-app-bar",{attrs:{app:"",color:"primary"}},[a("v-toolbar-title",[a("span",{staticClass:"white--text text-h6"},[t._v("Mito Report for "+t._s(t.sampleId))])]),t.loading?a("v-progress-circular",{staticClass:"ml-4",attrs:{indeterminate:""}}):t._e(),a("v-spacer"),a("ExportSettings"),a("AppSettings")],1),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"pt-0"},[a("v-tabs",[a("v-tab",{attrs:{to:"/variants"}},[t._v("Variants")]),a("v-tab",{attrs:{to:"/deletions"}},[t._v("Deletions")]),a("v-tab",{attrs:{to:"/qc"}},[t._v("QC")]),a("v-tab",{attrs:{to:"/about"}},[t._v("About")]),a("v-spacer")],1)],1)],1),a("router-view")],1)],1),a("v-snackbar",{attrs:{value:t.snackbar.active,color:t.snackbar.color,timeout:t.snackbar.timeout,bottom:""},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{dark:"",text:""},on:{click:t.closeSnackbar}},"v-btn",n,!1),[t._v(" Close ")])]}}])},[t._v(" "+t._s(t.snackbar.message)+" ")])],1)},l=[],c=a("5530"),u=a("1da1"),d=(a("96cf"),a("2f62")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":500},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g(t._b({attrs:{id:"btnSettingsMenu",icon:"",large:""}},"v-btn",i,!1),Object.assign({},r,n)),[a("v-icon",{staticClass:"white--text",attrs:{large:""}},[t._v("mdi-cog")])],1)]}}],null,!0)},[a("span",[t._v("Application Settings")])])]}}]),model:{value:t.settingsMenu,callback:function(e){t.settingsMenu=e},expression:"settingsMenu"}},[a("v-card",[a("v-form",{attrs:{id:"save-settings-form"},on:{submit:function(e){return e.preventDefault(),t.saveAppSettings(e)}},model:{value:t.settingsForm.valid,callback:function(e){t.$set(t.settingsForm,"valid",e)},expression:"settingsForm.valid"}},[a("v-card-title",[t._v("Settings")]),a("v-divider"),a("v-card-subtitle",[t._v("IGV")]),a("v-card-text",[a("v-text-field",{attrs:{id:"inputNewBamDir",name:"inputNewBamDir",rules:[t.validationRules.required],label:"BAM File Directory",hint:"replaced by message slot","persistent-hint":"",maxlength:"1000"},scopedSlots:t._u([{key:"message",fn:function(){return[a("span",[t._v("Directory to BAM File "),a("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.getSettingsBamFilename))])])]},proxy:!0}]),model:{value:t.settingsForm.newBamDir,callback:function(e){t.$set(t.settingsForm,"newBamDir",e)},expression:"settingsForm.newBamDir"}})],1),a("v-divider"),a("v-subheader",[t._v("Variant Tags")]),a("v-card-text",[t._l(t.defaultTags,(function(e){return a("v-row",{key:e.name,attrs:{"no-gutters":""}},[a("v-text-field",{attrs:{value:e.name,disabled:"",type:"text",dense:""}}),a("div",{staticClass:"pt-1 px-4"},[e.important?a("v-icon",{attrs:{color:"red"}},[t._v("mdi-tag-multiple")]):a("v-icon",[t._v("mdi-tag-multiple-outline")])],1),a("v-spacer"),a("v-btn",{attrs:{icon:"",disabled:""}})],1)})),t._l(t.settingsForm.userTags,(function(e,n){return a("v-row",{key:n,attrs:{"no-gutters":""}},[a("v-text-field",{attrs:{type:"text",disabled:"",dense:""},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"tag.name"}}),a("v-checkbox",{staticClass:"mt-1 pl-4 pt-0",attrs:{"on-icon":"mdi-tag-multiple",label:"Important?","off-icon":"mdi-tag-multiple-outline",color:"red"},model:{value:e.important,callback:function(a){t.$set(e,"important",a)},expression:"tag.important"}}),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0),model:{value:t.deleteTagMenus[e.name],callback:function(a){t.$set(t.deleteTagMenus,e.name,a)},expression:"deleteTagMenus[tag.name]"}},[a("v-list",[a("v-list-item",{attrs:{link:"",dense:""},on:{click:function(a){return t.deleteTag(e)}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-delete")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Delete")]),a("v-list-item-subtitle",[t._v("Save will also remove this tag from variants")])],1)],1)],1)],1)],1)})),a("v-row",{attrs:{"no-gutters":""}},[a("v-text-field",{attrs:{rules:[t.validationRules.newTagNameUnique],label:"New tag name",hint:"New tag name must be unique","persistent-hint":"",type:"text",dense:""},model:{value:t.settingsForm.newTagName,callback:function(e){t.$set(t.settingsForm,"newTagName",e)},expression:"settingsForm.newTagName"}}),a("v-checkbox",{staticClass:"mt-1 pl-4 pt-0",attrs:{"on-icon":"mdi-tag-multiple","off-icon":"mdi-tag-multiple-outline",label:"Important?",color:"red"},model:{value:t.settingsForm.newTagImportant,callback:function(e){t.$set(t.settingsForm,"newTagImportant",e)},expression:"settingsForm.newTagImportant"}}),a("v-spacer"),a("v-btn",{attrs:{icon:"",disabled:t.addNewTagDisabled},on:{click:t.addNewTag}},[a("v-icon",[t._v("mdi-plus")])],1)],1)],2),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.settingsMenu=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{id:"btnSubmitSaveSettings",type:"submit",form:"save-settings-form",color:"primary",text:"",disabled:t.settingsSubmitDisabled}},[t._v("Save")])],1)],1)],1)],1)},g=[],m=(a("4de4"),a("b0c0"),a("2ef0")),h={name:"AppSettings",mounted:function(){this.settingsForm.newBamDir=this.getSettingsBamDir,this.settingsForm.userTags=m["cloneDeep"](this.getVariantTags.filter((function(t){return t.custom})))},data:function(){return{settingsMenu:!1,deleteTagMenus:{},settingsForm:{valid:!0,dirty:!1,newBamDir:"",newTagName:"",newTagImportant:!1,userTags:[]}}},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["getSettingsBamDir","getSettingsBamFilename","getVariantTags"])),{},{bamDirInputHint:function(){return"Directory to BAM File ".concat(this.getSettingsBamFilename)},defaultTags:function(){var t;return(null===(t=this.getVariantTags)||void 0===t?void 0:t.filter((function(t){return!t.custom})))||[]},customTags:function(){var t;return(null===(t=this.getVariantTags)||void 0===t?void 0:t.filter((function(t){return t.custom})))||[]},settingsSubmitDisabled:function(){return!this.settingsForm.valid||!this.settingsForm.dirty},addNewTagDisabled:function(){return""===this.settingsForm.newTagName},validationRules:function(){return{required:function(t){return!!t||"Required."},newTagNameUnique:this.newTagNameUnique}}}),methods:{saveSettings:function(){this.$store.dispatch("saveSettings")},onBamDirChange:function(t){this.settingsForm.newBamDir=t},saveAppSettings:function(){console.debug("AppSettings-saveAppSettings"),this.$store.dispatch("saveAppSettings",{newBamDir:this.settingsForm.newBamDir,userTags:this.settingsForm.userTags}),this.settingsMenu=!1,this.settingsForm.newBamDir=this.getSettingsBamDir,this.settingsForm.userTags=this.getVariantTags.filter((function(t){return t.custom}))},addNewTag:function(){this.settingsForm.userTags.push({name:this.settingsForm.newTagName,important:this.settingsForm.newTagImportant,custom:!0}),this.resetNewTagForm()},deleteTag:function(t){this.settingsForm.userTags=this.settingsForm.userTags.filter((function(e){return e.name!==t.name})),delete this.deleteTagMenus[t.name]},resetNewTagForm:function(){this.settingsForm.newTagName="",this.settingsForm.newTagImportant=!1},newTagNameUnique:function(t){return!this.getVariantTags.some((function(e){var a;return(null===(a=e.name)||void 0===a?void 0:a.toUpperCase())===(null===t||void 0===t?void 0:t.toUpperCase())}))&&!this.settingsForm.userTags.some((function(e){var a;return(null===(a=e.name)||void 0===a?void 0:a.toUpperCase())===(null===t||void 0===t?void 0:t.toUpperCase())}))}},watch:{getSettingsBamDir:function(t){this.settingsForm.newBamDir=t},getVariantTags:function(t){this.settingsForm.userTags=m["cloneDeep"](t.filter((function(t){return t.custom})))},settingsForm:{deep:!0,handler:function(){var t=this.settingsForm.newBamDir===this.getSettingsBamDir,e=m["isEqual"](this.settingsForm.userTags,this.customTags),a=t&&e;this.settingsForm.dirty=!a}}}},f=h,v=a("0c7c"),_=a("6544"),b=a.n(_),S=a("8336"),C=a("b0af"),T=a("99d9"),k=a("ac7c"),x=a("ce7e"),y=a("4bd4"),D=a("132d"),w=a("8860"),V=a("da13"),I=a("5d23"),A=a("34c3"),F=a("e449"),R=a("0fd9"),H=a("2fa4"),M=a("e0c7"),O=a("8654"),q=a("3a2f"),E=Object(v["a"])(f,p,g,!1,null,"e9150096",null),j=E.exports;b()(E,{VBtn:S["a"],VCard:C["a"],VCardActions:T["a"],VCardSubtitle:T["b"],VCardText:T["c"],VCardTitle:T["d"],VCheckbox:k["a"],VDivider:x["a"],VForm:y["a"],VIcon:D["a"],VList:w["a"],VListItem:V["a"],VListItemContent:I["a"],VListItemIcon:A["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"],VMenu:F["a"],VRow:R["a"],VSpacer:H["a"],VSubheader:M["a"],VTextField:O["a"],VTooltip:q["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":500},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g(t._b({attrs:{id:"btnExportMenu",icon:"",large:""}},"v-btn",i,!1),Object.assign({},r,n)),[a("v-icon",{staticClass:"white--text",attrs:{large:""}},[t._v("mdi-download")])],1)]}}],null,!0)},[a("span",[t._v("Export")])])]}}]),model:{value:t.exportMenu,callback:function(e){t.exportMenu=e},expression:"exportMenu"}},[a("v-card",[a("v-card-title",[t._v("Export")]),a("v-divider"),a("v-list",{attrs:{"three-line":""}},[a("v-list-item-group",[a("v-list-item",{on:{click:function(e){return e.preventDefault(),t.downloadSettings(e)}}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Export All")]),a("v-list-item-subtitle",[t._v("Export all settings and curations for all Mito Report samples found in your browser's storage")])],1)],1),a("v-list-item",{on:{click:function(e){return e.preventDefault(),t.downloadSettingsSample(e)}}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Export Single")]),a("v-list-item-subtitle",[t._v("Export only for current report sample "),a("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.sampleId))])]),a("v-list-item-subtitle",[t._v("This can be used to share current report settings and curations with other Mito Report users ")])],1)],1)],1)],1)],1)],1)},B=[],L={name:"ExportSettings",data:function(){return{exportMenu:!1}},computed:Object(c["a"])({},Object(d["c"])(["sampleId"])),methods:{downloadSettings:function(){this.exportMenu=!1,this.$store.dispatch("downloadSettings")},downloadSettingsSample:function(){this.exportMenu=!1,this.$store.dispatch("downloadSettingsSample")}}},P=L,G=a("1baa"),$=Object(v["a"])(P,N,B,!1,null,"13fb6fe4",null),U=$.exports;b()($,{VBtn:S["a"],VCard:C["a"],VCardTitle:T["d"],VDivider:x["a"],VIcon:D["a"],VList:w["a"],VListItem:V["a"],VListItemContent:I["a"],VListItemGroup:G["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"],VMenu:F["a"],VTooltip:q["a"]});var Q={name:"App",components:{AppSettings:j,ExportSettings:U},created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.info("MitoReport version=".concat("0.1.0")),e.next=3,t.$store.dispatch("fetchData");case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{rules:{required:function(t){return!!t||"Required."}}}},computed:Object(c["a"])({},Object(d["c"])(["loading","snackbar","initialFetchDataLoaded","sampleId"])),methods:{downloadSettings:function(){this.$store.dispatch("downloadSettings")},closeSnackbar:function(){this.$store.dispatch("closeSnackbar")}}},W=Q,z=(a("034f"),a("7496")),K=a("40dc"),Y=a("62ad"),J=a("a523"),X=a("f6c4"),Z=a("490a"),tt=a("2db4"),et=a("71a3"),at=a("fe57"),nt=a("2a7f"),it=Object(v["a"])(W,o,l,!1,null,null,null),rt=it.exports;b()(it,{VApp:z["a"],VAppBar:K["a"],VBtn:S["a"],VCol:Y["a"],VContainer:J["a"],VMain:X["a"],VProgressCircular:Z["a"],VRow:R["a"],VSnackbar:tt["a"],VSpacer:H["a"],VTab:et["a"],VTabs:at["a"],VToolbarTitle:nt["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CoveragePlots")},ot=[],lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{id:"deletionsPage"}},[a("v-row",[a("v-col",[a("v-card",[a("v-card-title",[t._v("Coverage Plot")]),a("v-card-text",[a("svg",{staticStyle:{width:"100%",height:"240px"},attrs:{id:"coveragePlot"}})])],1)],1)],1),a("v-row",[a("v-col",[a("v-card",[a("v-card-title",[t._v("Split Read Plot")]),a("v-card-text",[a("svg",{staticStyle:{width:"100%",height:"240px"},attrs:{id:"splitReadPlot"}})])],1)],1)],1)],1)},ct=[],ut=a("4b81"),dt=a.n(ut),pt=a("6e58"),gt=a.n(pt),mt=(a("d2c7"),{name:"CoveragePlots",props:{},mounted:function(){this.sampleId&&this.deletions[this.sampleId]&&(console.log("plotting charts"),this.plotCoverage(),this.plotSplitReads())},computed:Object(c["a"])({},Object(d["c"])(["deletions","sampleId"])),methods:{plotCoverage:function(){var t=[{key:this.sampleId,values:this.deletions[this.sampleId].coverage}],e=dt.a.models.stackedAreaChart().margin({right:100}).x((function(t){return t.pos})).y((function(t){return t.cov}));gt.a.select("#coveragePlot").datum(t).call(e)},plotSplitReads:function(){var t=[{key:this.sampleId,values:this.deletions[this.sampleId].splitReads}],e=dt.a.models.multiBarChart().margin({right:100}).x((function(t){return t.pos})).y((function(t){return t.count}));gt.a.select("#splitReadPlot").datum(t).call(e)}},watch:{sampleId:function(){this.plotCoverage(),this.plotSplitReads()}}}),ht=mt,ft=Object(v["a"])(ht,lt,ct,!1,null,null,null),vt=ft.exports;b()(ft,{VCard:C["a"],VCardText:T["c"],VCardTitle:T["d"],VCol:Y["a"],VContainer:J["a"],VRow:R["a"]});var _t={name:"Deletions",components:{CoveragePlots:vt}},bt=_t,St=Object(v["a"])(bt,st,ot,!1,null,null,null),Ct=St.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VariantTable",{attrs:{variantId:t.variantId}})},kt=[],xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-text",{staticClass:"py-0 my-0"},[a("v-row",[a("v-col",{attrs:{md:"1"}},[a("span",{staticClass:"text-subtitle-1"},[t._v("Saved Search:")]),a("br"),a("span",[t._v("Filtered to "+t._s(t.currentVariants.length)+" of "+t._s(t.tableFilteredVariants.length)+" variants")])]),a("v-col",{attrs:{md:"2"}},[a("v-select",{attrs:{id:"inputSelectSavedSearch",items:t.allSavedSearchesDisplay,"item-text":".name","item-value":".name",type:"text",label:"Presets","return-object":"",dense:""},on:{input:t.onSavedSearchChange},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.item;return[a("span",[t._v(t._s(n.name))])]}}]),model:{value:t.selectedSavedSearch,callback:function(e){t.selectedSavedSearch=e},expression:"selectedSavedSearch"}})],1),a("v-col",{attrs:{md:"1"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":500},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",i,!1),n),[a("v-icon",[t._v("mdi-content-save")])],1)]}}]),model:{value:t.searchFormMenu,callback:function(e){t.searchFormMenu=e},expression:"searchFormMenu"}},[a("v-card",[a("v-form",{attrs:{id:"save-search-form"},on:{submit:function(e){return e.preventDefault(),t.onSaveSearch(e)}},model:{value:t.searchForm.valid,callback:function(e){t.$set(t.searchForm,"valid",e)},expression:"searchForm.valid"}},[a("v-text-field",{staticClass:"px-4 pt-8 pb-4",attrs:{label:"Name",maxlength:"50",rules:[t.rules.required],"persistent-hint":"",hint:t.searchFormNameHint},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}}),a("v-text-field",{staticClass:"px-4",attrs:{label:"Description",maxlength:"500"},model:{value:t.searchForm.description,callback:function(e){t.$set(t.searchForm,"description",e)},expression:"searchForm.description"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.searchFormMenu=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{type:"submit",form:"save-search-form",color:"primary",text:"",disabled:t.saveSearchDisabled}},[t._v("Save")])],1)],1)],1)],1),t.selectedSavedSearch.custom?a("v-btn",{attrs:{icon:""},on:{click:function(e){return e.preventDefault(),t.onDeleteSearch(e)}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()],1),a("v-col",{attrs:{md:"2"}},[a("span",[t._v("Haplogroup is: "+t._s(t.getFirstHaplogroup)+" "),a("span",{staticClass:"secondary-info"},[t._v("("+t._s(t.getFirstFullHaplogroup)+")")])]),a("v-switch",{attrs:{id:"displayHaplodata",items:t.displayHaplodata},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.displayHaplodata?"Hide":"Show")+" Haplogroup Data")]},proxy:!0}]),model:{value:t.displayHaplodata,callback:function(e){t.displayHaplodata=e},expression:"displayHaplodata"}})],1),a("v-col",{attrs:{md:"2"}},[a("span",[t._v("Toggle Curation Tags")]),a("v-switch",{attrs:{id:"quickTagSwitch",items:t.showQuickTags},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.showQuickTags?"Hide":"Show")+" Tags")]},proxy:!0}]),model:{value:t.showQuickTags,callback:function(e){t.showQuickTags=e},expression:"showQuickTags"}})],1)],1)],1)],1),a("v-card",[a("v-data-table",{ref:"variantTable",staticClass:"elevation-1 variant-expanded",attrs:{id:"variantTable",headers:t.headers,items:t.tableFilteredVariants,options:t.tableOptions,"footer-props":t.tableFooterProps,expanded:t.expandedVariants,"item-key":"id",dense:""},on:{"update:expanded":function(e){t.expandedVariants=e},"current-items":t.currentItems,"click:row":t.toggleVariantExpansion},scopedSlots:t._u([{key:"body.prepend",fn:function(){return[a("tr",{staticClass:"paddedrow"},[a("td",[a("v-text-field",{attrs:{type:"text",label:"Contains","single-line":"",dense:""},model:{value:t.filterConfig.hgvsg,callback:function(e){t.$set(t.filterConfig,"hgvsg",e)},expression:"filterConfig.hgvsg"}}),a("v-row",{staticClass:"px-4 justify-space-between posSlider"},[a("span",{staticClass:"grey--text text--darken-1 text-caption"},[t._v(t._s(t.filterConfig.posRange[0]))]),a("span",{staticClass:"grey--text text--darken-1 text-caption"},[t._v(t._s(t.filterConfig.posRange[1]))])]),a("v-range-slider",{staticClass:"posSlider",attrs:{min:0,max:t.MAX_POS,step:"100","hide-details":""},model:{value:t.filterConfig.posRange,callback:function(e){t.$set(t.filterConfig,"posRange",e)},expression:"filterConfig.posRange"}})],1),a("td",{attrs:{id:"geneHeader"}},[a("v-select",{attrs:{items:t.genes,type:"text",label:"Select Genes",multiple:"",dense:""},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.item,i=e.index;return[i<=3?a("v-chip",{attrs:{close:"","x-small":""},on:{"click:close":function(e){return t.removeSelectedGene(n)}}},[a("span",[t._v(t._s(n))])]):t._e(),4===i?a("span",{staticClass:"grey--text caption"},[t._v("+"+t._s(t.filterConfig.selectedGenes.length-4)+" more")]):t._e()]}}]),model:{value:t.filterConfig.selectedGenes,callback:function(e){t.$set(t.filterConfig,"selectedGenes",e)},expression:"filterConfig.selectedGenes"}}),a("v-select",{attrs:{items:t.allMasks.map((function(t){return t.name})),type:"text",label:"Variant Masks",multiple:"",dense:""},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[a("v-list-item",{staticStyle:{width:"330px"},attrs:{ripple:""},on:{click:t.toggleAllMasks}},[a("v-list-item-action",[a("v-icon",{attrs:{color:t.filterConfig.selectedMasks.length>0?"indigo darken-4":""}},[t._v(" "+t._s(t.maskSelectAllIcon)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Select All variant masks to exclude ")])],1)],1),a("v-divider",{staticClass:"mt-2"})]},proxy:!0},{key:"item",fn:function(e){var n=e.item,i=e.attrs,r=e.on;return[a("v-list-item",t._g(t._b({scopedSlots:t._u([{key:"default",fn:function(e){var i=e.active;return[a("v-list-item-action",[a("v-checkbox",{attrs:{"input-value":i}})],1),a("v-list-item-content",[a("v-list-item-title",[a("span",[t._v(t._s(n))]),a("span",{staticClass:"float-right"},[t._v(t._s("Region: "+t.allMasks.find((function(t){return t.name==n})).start+"-"+t.allMasks.find((function(t){return t.name==n})).end))])])],1)]}}],null,!0)},"v-list-item",i,!1),r))]}},{key:"selection",fn:function(e){var n=e.index;return[1===n&&t.filterConfig.selectedMasks.length===t.allMasks.length?a("span",{staticStyle:{"font-size":"12px",width:"53px"}},[t._v("All masks")]):1===n?a("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.filterConfig.selectedMasks.length)+" masks")]):1===t.filterConfig.selectedMasks.length?a("span",{staticStyle:{"font-size":"12px"}},[t._v("1 mask")]):t._e()]}}]),model:{value:t.filterConfig.selectedMasks,callback:function(e){t.$set(t.filterConfig,"selectedMasks",e)},expression:"filterConfig.selectedMasks"}})],1),a("td",[a("v-select",{attrs:{items:t.consequences,"item-text":".displayTerm",type:"text",label:"Select Consequences",multiple:"",dense:""},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.item,i=e.index;return[i<=3?a("v-chip",{attrs:{close:"","x-small":""},on:{"click:close":function(e){return t.removeSelectedConsequence(n)}}},[a("span",[t._v(t._s(t.shortenConsequenceOntology(n.displayTerm)))])]):t._e(),4===i?a("span",{staticClass:"grey--text caption"},[t._v("+"+t._s(t.filterConfig.selectedConsequences.length-4)+" more")]):t._e()]}}]),model:{value:t.filterConfig.selectedConsequences,callback:function(e){t.$set(t.filterConfig,"selectedConsequences",e)},expression:"filterConfig.selectedConsequences"}})],1),a("td",[a("v-select",{attrs:{items:t.mitoTipQuartiles,type:"text",label:"Select Pathegenicity",multiple:"",dense:""},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.item,i=e.index;return[i<1?a("v-chip",{attrs:{close:"","x-small":""},on:{"click:close":function(e){return t.removeSelectedMitoQuartile(n)}}},[a("span",[t._v(t._s(n))])]):t._e(),1===i?a("span",{staticClass:"grey--text caption"},[t._v("+"+t._s(t.filterConfig.selectedMitoTIP.length-1)+" more")]):t._e()]}}]),model:{value:t.filterConfig.selectedMitoTIP,callback:function(e){t.$set(t.filterConfig,"selectedMitoTIP",e)},expression:"filterConfig.selectedMitoTIP"}})],1),a("td",[a("v-row",{staticClass:"justify-space-between curation-search"},[a("v-text-field",{attrs:{type:"text",label:"Search notes or tag names",dense:""},model:{value:t.filterConfig.curationSearch,callback:function(e){t.$set(t.filterConfig,"curationSearch",e)},expression:"filterConfig.curationSearch"}}),a("v-checkbox",{staticStyle:{"margin-top":"4px"},attrs:{"on-icon":"mdi-tag-multiple","off-icon":"mdi-tag-multiple-outline",color:"red"},on:{click:t.toggleImportantCuration},model:{value:t.filterConfig.importantCuration,callback:function(e){t.$set(t.filterConfig,"importantCuration",e)},expression:"filterConfig.importantCuration"}})],1)],1),a("td",[a("v-row",{staticClass:"px-4 justify-space-between"},[a("span",{staticClass:"grey--text text--darken-1"},[t._v(t._s(t.vafTicks[t.vafIndexRange[0]]))]),a("span",{staticClass:"grey--text text--darken-1"},[t._v(t._s(t.vafTicks[t.vafIndexRange[1]]))])]),a("v-range-slider",{attrs:{value:t.vafTicks,min:"0",max:t.vafLastTickIndex,"hide-details":""},model:{value:t.vafIndexRange,callback:function(e){t.vafIndexRange=e},expression:"vafIndexRange"}})],1),a("td",[a("v-row",{staticClass:"px-4 justify-center"},[a("span",{staticClass:"grey--text text--darken-1"},[t._v(" "+t._s(t.gbFreqTicks[t.filterConfig.gbFreqTickIndex])+" ")])]),a("v-slider",{attrs:{value:t.gbFreqTicks,min:"0",max:t.gbFreqLastTickIndex,"hide-details":""},model:{value:t.filterConfig.gbFreqTickIndex,callback:function(e){t.$set(t.filterConfig,"gbFreqTickIndex",e)},expression:"filterConfig.gbFreqTickIndex"}})],1),a("td",[a("v-row",{staticClass:"px-4 justify-center"},[a("span",{staticClass:"grey--text text--darken-1"},[t._v(" "+t._s(t.gnomADHetFreqTicks[t.filterConfig.gnomADHetFreqTickIndex])+" ")])]),a("v-slider",{attrs:{value:t.gnomADHetFreqTicks,min:"0.0",max:t.gnomADHetFreqLastTickIndex,"hide-details":""},model:{value:t.filterConfig.gnomADHetFreqTickIndex,callback:function(e){t.$set(t.filterConfig,"gnomADHetFreqTickIndex",e)},expression:"filterConfig.gnomADHetFreqTickIndex"}})],1),a("td",[a("v-row",{staticClass:"px-4 justify-center"},[a("span",{staticClass:"grey--text text--darken-1"},[t._v(" "+t._s(t.gnomADHomFreqTicks[t.filterConfig.gnomADHomFreqTickIndex])+" ")])]),a("v-slider",{attrs:{value:t.gnomADHomFreqTicks,min:"0.0",max:t.gnomADHomFreqLastTickIndex,"hide-details":""},model:{value:t.filterConfig.gnomADHomFreqTickIndex,callback:function(e){t.$set(t.filterConfig,"gnomADHomFreqTickIndex",e)},expression:"filterConfig.gnomADHomFreqTickIndex"}})],1),a("td"),a("td"),a("td")])]},proxy:!0},{key:"item.pos",fn:function(t){var e=t.item;return[a("VariantLinks",{attrs:{variant:e}})]}},{key:"item.symbols",fn:function(e){var n=e.item;return t._l(n.symbols,(function(t){return a("GeneCardsLink",{key:t,attrs:{gene:t}})}))}},{key:"item.consequence",fn:function(e){var n=e.item;return[n.consequence?a("span",{attrs:{title:n.consequence.displayTerm}},[t._v(t._s(t.shortenConsequenceOntology(n.consequence.displayTerm)))]):t._e()]}},{key:"item.mitotip",fn:function(t){var e=t.item;return[a("VariantTableMitoTip",{attrs:{item:e}})]}},{key:"item.gbFreq",fn:function(e){var n=e.item;return[n.gbFreq>0?a("span",[t._v(t._s(t._f("precisionTo")(n.gbFreq)))]):t._e()]}},{key:"item.hapWeight",fn:function(e){var n=e.item;return[t.hapRatios[n.id]&&t.hapRatios[n.id].hapWeight?a("span",[t._v(" "+t._s(t._f("precisionTo")(t.hapRatios[n.id].hapWeight)))]):t._e()]}},{key:"item.gnomAD.af_het",fn:function(e){var n=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("span",t._g(t._b({},"span",r,!1),i),[n.gnomAD&&n.gnomAD.af_het>0?a("span",{class:"gnomADspan "+((n.gnomAD.af_het>1e-4||n.gnomAD.hap_af_het_map[t.getFirstHaplogroup]>1e-4)&&(t.hapRatios[n.id].hetRatio>2||t.hapRatios[n.id].hetRatio<.5)?"highlightMe":"")},[t._v(" "+t._s(t._f("precisionTo")(n.gnomAD.af_het)))]):t._e(),a("v-icon",{staticClass:"worldIcon"},[t._v("mdi-earth")]),n.gnomAD&&n.gnomAD.af_het>0&&n.gnomAD.hap_af_het_map&&t.displayHaplodata&&t.getFirstHaplogroup?a("span",[a("br"),a("span",{staticClass:"haplogroupIcon"},[t._v(t._s(t.getFirstHaplogroup))]),t._v(" "+t._s(t._f("precisionTo")(n.gnomAD.hap_af_het_map[t.getFirstHaplogroup]))+" ")]):t._e()],1)]}}],null,!0)},[a("span",{staticClass:"text-caption"},[n.gnomAD&&n.gnomAD.af_het>0?a("span",{staticClass:"gnomADspan"},[t._v(" Global gnomAD Freq: "+t._s(t._f("precisionTo")(n.gnomAD.af_het)))]):t._e(),a("v-icon",{staticClass:"worldIcon tooltipIcon"},[t._v("mdi-earth")]),n.gnomAD&&n.gnomAD.af_het>0&&n.gnomAD.hap_af_het_map&&t.getFirstHaplogroup?a("span",[a("br"),a("span",{staticClass:"haplogroupIcon tooltipIcon"},[t._v(t._s(t.getFirstHaplogroup))]),t._v(" Haplogroup ("+t._s(t.getFirstHaplogroup)+") Freq: "+t._s(t._f("precisionTo")(n.gnomAD.hap_af_het_map[t.getFirstHaplogroup]))+" "),a("br"),a("span",{class:(n.gnomAD.af_het>1e-4||n.gnomAD.hap_af_het_map[t.getFirstHaplogroup]>1e-4)&&(t.hapRatios[n.id].hetRatio>2||t.hapRatios[n.id].hetRatio<.5)?"highlightMe":""},[a("v-icon",{staticClass:"tooltipIcon"},[t._v("mdi-contrast-box")]),t._v(" Ratio (Global / Haplogroup): "+t._s(t._f("precisionTo")(n.gnomAD.af_het/n.gnomAD.hap_af_het_map[t.getFirstHaplogroup]))+" "),a("span",{staticClass:"extraInfo"},[a("br"),t._v(" Highlighted because the Ratio is smaller than 0.5 or larger than 2"),a("br"),t._v(" and the Global Freq or Haplogroup Freq is larger than 0.0001 ")])],1)]):t._e()],1)])]}},{key:"item.gnomAD.af_hom",fn:function(e){var n=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("span",t._g(t._b({},"span",r,!1),i),[n.gnomAD&&n.gnomAD.af_hom>0?a("span",{class:"gnomADspan "+((n.gnomAD.af_hom>1e-4||n.gnomAD.hap_af_hom_map[t.getFirstHaplogroup]>1e-4)&&(t.hapRatios[n.id].homRatio>2||t.hapRatios[n.id].homRatio<.5)?"highlightMe":"")},[t._v(" "+t._s(t._f("precisionTo")(n.gnomAD.af_hom)))]):t._e(),a("v-icon",{staticClass:"worldIcon"},[t._v("mdi-earth")]),n.gnomAD&&n.gnomAD.af_hom>0&&n.gnomAD.hap_af_hom_map&&t.displayHaplodata&&t.getFirstHaplogroup?a("span",[a("br"),a("span",{staticClass:"haplogroupIcon"},[t._v(t._s(t.getFirstHaplogroup))]),t._v(" "+t._s(t._f("precisionTo")(n.gnomAD.hap_af_hom_map[t.getFirstHaplogroup]))+" ")]):t._e()],1)]}}],null,!0)},[a("span",{staticClass:"text-caption"},[n.gnomAD&&n.gnomAD.af_hom>0?a("span",{staticClass:"gnomADspan"},[t._v(" Global gnomAD Freq: "+t._s(t._f("precisionTo")(n.gnomAD.af_hom)))]):t._e(),a("v-icon",{staticClass:"worldIcon tooltipIcon"},[t._v("mdi-earth")]),n.gnomAD&&n.gnomAD.af_hom>0&&n.gnomAD.hap_af_hom_map&&t.getFirstHaplogroup?a("span",[a("br"),a("span",{staticClass:"haplogroupIcon tooltipIcon"},[t._v(t._s(t.getFirstHaplogroup))]),t._v(" Haplogroup ("+t._s(t.getFirstHaplogroup)+") Freq: "+t._s(t._f("precisionTo")(n.gnomAD.hap_af_hom_map[t.getFirstHaplogroup]))+" "),a("br"),a("span",{class:(n.gnomAD.af_hom>1e-4||n.gnomAD.hap_af_hom_map[t.getFirstHaplogroup]>1e-4)&&(t.hapRatios[n.id].homRatio>2||t.hapRatios[n.id].homRatio<.5)?"highlightMe":""},[a("v-icon",{staticClass:"tooltipIcon"},[t._v("mdi-contrast-box")]),t._v(" Ratio (Global / Haplogroup): "+t._s(t._f("precisionTo")(n.gnomAD.af_hom/n.gnomAD.hap_af_hom_map[t.getFirstHaplogroup]))+" "),a("span",{staticClass:"extraInfo"},[a("br"),t._v(" Highlighted because the Ratio is smaller than 0.5 or larger than 2"),a("br"),t._v(" and the Global Freq or Haplogroup Freq is larger than 0.0001 ")])],1)]):t._e()],1)])]}},{key:"item.gnomAD.hl_hist",fn:function(e){var n=e.item;return[t.heteroplasmyDistExists(n)?a("div",{staticClass:"hist-wrapper"},[a("v-sparkline",{attrs:{value:t.heteroplasmyDistHeights(n),type:"bar",gradient:[t.COLORS.PRIMARY,t.COLORS.PRIMARY_LIGHT],radius:"10",padding:"1",smooth:"1","gradient-direction":"top","auto-line-width":"",height:"45"}})],1):t._e()]}},{key:"item.gnomAD.age_hist_hom",fn:function(e){var n=e.item;return[t.ageDistExists(n)?a("div",{staticClass:"hist-wrapper"},[a("v-sparkline",{attrs:{value:t.ageDistHomoHeights(n),type:"bar",gradient:[t.COLORS.PRIMARY,t.COLORS.PRIMARY_LIGHT],radius:"10",padding:"3",smooth:"1","gradient-direction":"top","auto-line-width":"",height:"45"}})],1):t._e()]}},{key:"item.id",fn:function(e){var n=e.item;return[a("CurationCell",{key:n.id,attrs:{variantId:n.id,"show-quick-tags":t.showQuickTags,expanded:t.transitioned[n.id]}})]}},{key:"item.Disease",fn:function(e){var n=e.item;return[n.Disease?a("span",[a("v-icon",[t._v("mdi-biohazard")]),t._v(" "+t._s(n.Disease)+" ")],1):t._e()]}},{key:"expanded-item",fn:function(e){var n=e.headers;return[a("td",{staticClass:"expandedVariant",attrs:{colspan:"4"}},[a("VariantInfo",{attrs:{variantId:t.variantId}})],1),a("td",{staticClass:"expandedVariant"},[a("VariantCuration",{attrs:{variantId:t.variantId}})],1),a("td",{staticClass:"expandedVariant",attrs:{colspan:n.length-4}},[a("VariantCharts",{attrs:{variantId:t.variantId}})],1)]}}])},[t._l(t.headers,(function(t){return a("template",{slot:"header."+t.value},[a("VariantTableHeader",{key:t.value,attrs:{header:t}})],1)}))],2)],1)],1)},yt=[],Dt=a("2909"),wt=(a("7db0"),a("07ac"),a("99af"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("d81d"),a("0481"),a("159b"),a("a4d3"),a("e01a"),a("a15b"),a("ac1f"),a("5319"),a("498a"),a("1276"),a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.geneCardsUrl?a("span",[a("a",{attrs:{id:"geneCardsUrlLink",href:t.geneCardsUrl,target:"_blank"}},[t._v(t._s(t.gene))])]):a("span",[t._v(t._s(t.gene))])])}),Vt=[],It=a("72bf"),At={name:"GeneCardsLink",props:{gene:{type:String,required:!0}},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["getGeneCardsUrlPrefix"])),{},{geneCardsUrl:function(){if(!this.getGeneCardsUrlPrefix)return null;var t=Object(It["stringifyUrl"])({url:this.getGeneCardsUrlPrefix,query:{gene:this.gene},fragmentIdentifier:"diseases"});return t}})},Ft=At,Rt=Object(v["a"])(Ft,wt,Vt,!1,null,null,null),Ht=Rt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.showQuickTags?"showQuickTags":""},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("span",t._g(t._b({staticClass:"haploWeightIcon"},"span",i,!1),n),[t.hapRatio&&t.hapRatio.hapWeight>.5?a("span",[a("v-icon",[t._v("mdi-contrast-box")])],1):t._e()])]}}])},[a("span",{staticClass:"text-caption"},[a("span",[t._v('This variant has a high discordance between the observed "global" vs'),a("br"),t._v(' "haplogroup" gnomAD Heteroplasmy frequency and/or Homoplasmy frequency.'),a("br"),t._v(" Weight: "+t._s(t._f("precisionTo")(t.hapRatio.hapWeight)))])])]),t._l(t.getVariantTags.map((function(t){return t.name})),(function(e){return a("span",{key:e,class:t.curation&&t.curation.selectedTagNames&&t.curation.selectedTagNames.indexOf(e)>=0?"selected tag "+e:"tag "+e,on:{click:function(a){return t.toggleTag(e)}}},[t._v(" "+t._s(e)+" ")])})),t.hasNote?a("span",{staticClass:"curationCellVariantNote"},[t._v(" "+t._s(t.curation.variantNote.substring(0,100)+(t.curation.variantNote.length>100?"…":""))+" "),a("br")]):t._e(),t.variant.disease?a("span",{staticClass:"autoTag",attrs:{title:t.variant.disease}},[a("v-icon",[t._v("mdi-biohazard")]),t._v(" "+t._s(t.shortDisease)+" ")],1):t._e()],2)},Ot=[];a("caad"),a("2532");function qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t&&m["isNumber"](t)?m["toNumber"](t).toPrecision(e):"0"}var Et={active:!1,color:"green",message:null,timeout:3e3},jt={SHORT:300,MEDIUM:500,LONG:1e3},Nt={SHORT:200,MEDIUM:400,LONG:800},Bt={PRIMARY:"#3974CC",PRIMARY_LIGHT:"#97C4FA"},Lt=200,Pt=16569,Gt="http://localhost:60151",$t="https://www.genecards.org/cgi-bin/carddisp.pl",Ut="https://www.hmtvar.uniba.it/results",Qt={name:"Default",description:"Default recommended filter configs",custom:!1,filterConfig:{posRange:[500,16569],allele:"",selectedMitoTIP:[],selectedTypes:[],selectedGenes:[],selectedMasks:["MT-HV1","MT-HV2","MT-HV3","MT-OHR","MT-CR"],selectedConsequences:[],gnomADHap:[],vafRange:[.02,1],gbFreqTickIndex:3,gnomADHetFreqTickIndex:6,gnomADHomFreqTickIndex:6,disease:"",diseaseShowBlank:!1,curationSearch:"",importantCuration:!1,mitoMap:"",mitoMapShowBlank:!1,selectedCuratedRefName:"All",hgvsp:"",hgvspShowBlank:!1,hgvsc:"",hgvscShowBlank:!1,hgvs:"",hgvsShowBlank:!1}},Wt=[{name:"MT-HV1",start:16024,end:16383},{name:"MT-HV2",start:57,end:372},{name:"MT-HV3",start:438,end:574},{name:"MT-OHR",start:110,end:441},{name:"MT-CR",start:16024,end:576}],zt={name:"CurationCell",props:{variantId:{type:String,required:!1},showQuickTags:Boolean,expanded:Boolean},data:function(){return{selectedTags:[]}},methods:{toggleTag:function(t){if(this.showQuickTags||this.expanded){var e,a;event.stopPropagation();var n=gt.a.select(this.$el).select(".".concat(t));(null===(e=this.curation)||void 0===e||null===(a=e.selectedTagNames)||void 0===a?void 0:a.indexOf(t))>=0?(this.selectedTags=this.selectedTags.filter((function(e){return e.name!==t})),n.classed("selected",!1),this.debounceSave()):(this.selectedTags.push(this.getVariantTags.find((function(e){return e.name==t}))),n.classed("selected",!0),this.debounceSave())}},debounceSave:m["debounce"]((function(){this.$store.dispatch("saveCuration",{variantId:this.variantId,selectedTags:this.selectedTags})}),jt.MEDIUM)},mounted:function(){var t=this;this.selectedTags=this.getVariantTags.filter((function(e){var a,n;return null===(a=t.curation)||void 0===a||null===(n=a.selectedTagNames)||void 0===n?void 0:n.includes(e.name)}))},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["getCurationByVariantId","getImportantVariantTags","getSampleSettings","getVariantById","getFirstHaplogroup","getVariantTags"])),{},{variant:function(){return this.getVariantById(this.variantId)},curation:function(){return this.getCurationByVariantId(this.variantId)},hasNote:function(){return!m["isEmpty"](this.curation.variantNote)},hasSelectedTags:function(){return!m["isEmpty"](this.curation.selectedTagNames)},shortDisease:function(){if(!this.variant.disease)return"";var t=this.variant.disease;return t.length>30&&(t=t.split(",").length>2?t.split(",")[0]+" +".concat(t.split(",").length-1," more"):t.substring(0,30)+"…"),t},tagColor:function(){var t=this,e=this.getImportantVariantTags.some((function(e){return(t.curation.selectedTagNames||[]).includes(e.name)}));return e?"red":""},hapRatio:function(){var t=this.variant,e={};if(t.gnomAD){if(e={hapWeight:0},t.gnomAD.af_het&&t.gnomAD.hap_af_het_map[this.getFirstHaplogroup]){var a=e.hetRatio=t.gnomAD.hap_af_het_map[this.getFirstHaplogroup]/t.gnomAD.af_het;e.hapWeight=Math.log(a)*Math.log(a)}if(t.gnomAD.af_hom&&t.gnomAD.hap_af_hom_map[this.getFirstHaplogroup]){var n=e.homRatio=t.gnomAD.hap_af_hom_map[this.getFirstHaplogroup]/t.gnomAD.af_hom;e.hapWeight+=Math.log(n)*Math.log(n)}}return e}}),filters:{precisionTo:qt}},Kt=zt,Yt=(a("3db9"),Object(v["a"])(Kt,Mt,Ot,!1,null,null,null)),Jt=Yt.exports;b()(Yt,{VIcon:D["a"],VTooltip:q["a"]});var Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-simple-table",{staticClass:"variant-info",attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",[a("tr",[a("td",[t._v("HGVS.g:")]),a("td",[t._v(" "+t._s(t.hgvsg)+" ")])]),a("tr",[a("td",[t._v("HGVS.p:")]),a("td",[t._v(t._s(t.variant.hgvsp))])]),a("tr",[a("td",[t._v("HGVS.c:")]),a("td",[t._v(t._s(t.variant.hgvsc))])]),a("tr",[a("td",[t._v("Consequence:")]),a("td",[t.variant.consequence?a("span",[t._v(" "+t._s(t.variant.consequence.displayTerm)+" ")]):a("span",[t._v("No VEP consequence")])])]),a("tr",[a("td",[t._v("MitoMap Status:")]),a("td",[t._v(t._s(t.variant.diseaseStatus))])]),a("tr",[a("td",[t._v("MitoMap Refs:")]),a("td",[t.variant.curatedRef?a("CuratedRefLink",{attrs:{href:t.variant.curatedRef.url,count:t.variant.curatedRef.count}}):t._e()],1)]),a("tr",[a("td",[t._v("Haplotype Defining:")]),a("td",[t._v(" "+t._s(t.variant.gnomAD?t.variant.gnomAD.hap_defining_variant?"Haplotype Defining":"Not Haplotype Defining":"No gnomAD data")+" ")])])])]},proxy:!0}])})},Zt=[],te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.curatedRefUrl?a("span",[a("a",{attrs:{id:"curatedRefLink",href:t.curatedRefUrl,target:"_blank"}},[t._v(t._s(t.count))])]):a("span",{attrs:{id:"curatedRefSpan"}},[t._v(t._s(t.count))])},ee=[],ae=(a("a9e3"),{name:"CuratedRefLink",props:{count:{type:Number,required:!1},href:{type:String,required:!1}},computed:{curatedRefUrl:function(){if(this.count&&this.href){var t=Object(It["stringifyUrl"])({url:this.href});return t}return null}}}),ne=ae,ie=Object(v["a"])(ne,te,ee,!1,null,null,null),re=ie.exports,se={name:"VariantInfo",props:{variantId:{type:String,required:!1}},components:{CuratedRefLink:re},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["getVariantById"])),{},{variant:function(){return this.getVariantById(this.variantId)},hgvsg:function(){return this.variant.HGVS||this.variant.id.replace(/chrM-(\d+)-(\w)-(\w+)/,"m.$1$2>$3")}})},oe=se,le=(a("f02e"),a("6b4a"),a("1f4f")),ce=Object(v["a"])(oe,Xt,Zt,!1,null,"31ab1ad2",null),ue=ce.exports;b()(ce,{VSimpleTable:le["a"]});var de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",[a("v-textarea",{attrs:{"auto-grow":"",label:"Notes",outlined:"",dense:""},on:{input:t.debounceSave},model:{value:t.variantNote,callback:function(e){t.variantNote=e},expression:"variantNote"}}),t.variant.disease?a("table",{staticClass:"curationDetailsTable"},[a("tbody",[a("tr",[a("td",[a("v-icon",[t._v("mdi-biohazard")]),t._v(" Disease:")],1),a("td",[t._v(t._s(t.variant.disease))])])])]):t._e()],1)},pe=[],ge={name:"VariantCuration",props:{variantId:{type:String,required:!1}},mounted:function(){var t=this;this.selectedTags=this.getVariantTags.filter((function(e){var a,n;return null===(a=t.curation)||void 0===a||null===(n=a.selectedTagNames)||void 0===n?void 0:n.includes(e.name)})),this.variantNote=this.curation.variantNote},data:function(){return{selectedTags:[],variantNote:""}},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["getVariantTags","getVariantById","getCurationByVariantId"])),{},{variant:function(){return this.getVariantById(this.variantId)},curation:function(){return this.getCurationByVariantId(this.variantId)}}),methods:{removeSelectedTag:function(t){this.selectedTags=this.selectedTags.filter((function(e){return e!==t})),this.debounceSave()},debounceSave:m["debounce"]((function(){this.$store.dispatch("saveCuration",{variantId:this.variantId,variantNote:this.variantNote})}),jt.MEDIUM)}},me=ge,he=(a("59f9"),a("a844")),fe=Object(v["a"])(me,de,pe,!1,null,"f77ba616",null),ve=fe.exports;b()(fe,{VForm:y["a"],VIcon:D["a"],VTextarea:he["a"]});var _e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"px-0 py-0"},[a("v-row",{attrs:{align:"start",justify:"start","no-gutters":""}},t._l(t.chartDataList,(function(e){return a("v-col",{key:e.id},[e.dataExists?a("div",{staticClass:"variantChart"},[a("span",[t._v(t._s(e.title))]),a("svg",{attrs:{viewBox:"0 0 450 150",id:""+e.id}})]):t._e()])})),1)],1)},be=[],Se={name:"AgeDistributionChart",props:{variantId:{type:String,required:!0}},mounted:function(){this.drawCharts()},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["getVariantById"])),{},{chartDataList:function(){var t=this.getVariantById(this.variantId);return[this.createHeteroplasmyDistChartData(t),this.createAgeHomoDistData(t)]}}),methods:{drawCharts:function(){this.chartDataList.forEach((function(t){var e=dt.a.models.discreteBarChart().x((function(t){return t.label})).y((function(t){return t.height})).color([Bt.PRIMARY]).duration(Nt.MEDIUM).width(450).height(100).valueFormat(gt.a.format(",.0f")).showXAxis(!0).showYAxis(!1).showValues(!0).margin({top:15,right:0,bottom:0,left:0}).staggerLabels(!0);gt.a.select("#".concat(t.id)).datum([t]).call(e)}))},createHeteroplasmyDistChartData:function(t){var e,a=(null===t||void 0===t||null===(e=t.gnomAD)||void 0===e?void 0:e.hl_hist)||[],n=m["some"](a,Boolean),i=["0.0-0.1","0.1-0.2","0.2-0.3","0.3-0.4","0.4-0.5","0.5-0.6","0.6-0.7","0.7-0.8","0.8-0.9","0.9-1.0"],r=a.map((function(t,e){return{label:i[e],height:t}}));return{id:"".concat(t.id,"-heteroplasmy-dist-chart"),title:"Heteroplasmy Distribution",dataExists:n,values:r}},createAgeHomoDistData:function(t){var e,a,n,i,r,s,o=(null===t||void 0===t||null===(e=t.gnomAD)||void 0===e||null===(a=e.age_hist_hom)||void 0===a?void 0:a.smaller)||0,l=(null===t||void 0===t||null===(n=t.gnomAD)||void 0===n||null===(i=n.age_hist_hom)||void 0===i?void 0:i.larger)||0,c=[o].concat((null===t||void 0===t||null===(r=t.gnomAD)||void 0===r||null===(s=r.age_hist_hom)||void 0===s?void 0:s.bins)||[],[l]),u=m["some"](c,Boolean),d=["< 30","30-35","35-40","40-45","45-50","50-55","55-60","60-65","65-70","70-75","75-80","> 80"],p=c.map((function(t,e){return{label:d[e],height:t}}));return{id:"".concat(t.id,"-age-homo-dist-chart"),title:"Age Distribution (Homoplasmic)",dataExists:u,values:p}}}},Ce=Se,Te=(a("2479"),Object(v["a"])(Ce,_e,be,!1,null,"b0d6edba",null)),ke=Te.exports;b()(Te,{VCol:Y["a"],VContainer:J["a"],VRow:R["a"]});var xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-menu",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("a",t._g(t._b({},"a",i,!1),n),[t._v(" "+t._s(t.convertHGVSg(t.variant,!0))+" ")])]}}])},[a("v-list",{staticStyle:{padding:"5px"}},[a("h3",[t._v(t._s(t.convertHGVSg(t.variant,!0)))]),a("ul",[t._l(t.links,(function(e,n){return a("li",{key:n},[a("a",{attrs:{target:"_blank",href:e.link}},[t._v(t._s(e.title))])])})),a("li",[a("HmtVarLink",{attrs:{position:t.variant.pos,refAllele:t.variant.ref,altAllele:t.variant.alt}})],1),a("li",[a("IgvLink",{attrs:{position:t.variant.pos}})],1),a("li",[a("a",{attrs:{target:"_blank",href:this.ucscLink(this.variant,0)}},[t._v(" UCSC Genome Browser ")]),t._v(" - "),a("a",{attrs:{target:"_blank",href:this.ucscLink(this.variant,1)}},[t._v(" (USCS new session) ")])])],2)])],1)],1)},ye=[],De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hmtVarSearchResultsUrl?a("span",[a("a",{attrs:{id:"hmtVarSearchResultsUrlLink",href:t.hmtVarSearchResultsUrl,target:"_blank"}},[t._v(" HmtVar")])]):a("span",[t._v(t._s(t.alleleVariant))])},we=[],Ve={name:"HmtVarLink",props:{position:{type:Number,required:!0},refAllele:{type:String,required:!0},altAllele:{type:String,required:!0},includeAltInSearch:{type:Boolean,required:!1,default:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["getHmtVarUrlPrefix"])),{},{hmtVarSearchResultsUrl:function(){if(!this.getHmtVarUrlPrefix)return null;var t=this.includeAltInSearch?"".concat(this.refAllele).concat(this.position).concat(this.altAllele):"".concat(this.refAllele).concat(this.position),e=Object(It["stringifyUrl"])({url:this.getHmtVarUrlPrefix,query:{mutation:t}});return e},alleleVariant:function(){return"".concat(this.refAllele,"/").concat(this.altAllele)}})},Ie=Ve,Ae=Object(v["a"])(Ie,De,we,!1,null,null,null),Fe=Ae.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.igvUrl?a("span",[a("a",{attrs:{id:"igvUrlLink",href:t.igvUrl,target:"igv"},on:{click:function(e){return e.preventDefault(),t.loadIGV(e)}}},[t._v("IGV Link: "+t._s(t.position))]),a("iframe",{ref:"igvIframe",staticStyle:{display:"none"},attrs:{name:"igv",src:"about:blank"}})]):a("span",[t._v(t._s(t.position))])},He=[],Me={name:"IgvLink",props:{position:{type:Number,required:!0}},computed:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["getIgvHost","getSettingsBamFile"])),{},{igvUrl:function(){if(!this.getIgvHost||!this.getSettingsBamFile)return null;var t=Object(It["stringifyUrl"])({url:"".concat(this.getIgvHost,"/load"),query:{file:"file://".concat(this.getSettingsBamFile),locus:"chrM:".concat(this.position)}});return t}}),methods:{loadIGV:function(){this.$refs.igvIframe.src=this.igvUrl}}},Oe=Me,qe=Object(v["a"])(Oe,Re,He,!1,null,null,null),Ee=qe.exports,je=a("1157"),Ne={props:{variant:{type:Object,required:!0}},components:{HmtVarLink:Fe,IgvLink:Ee},computed:{links:function(){var t=[{title:"gnomAD (Region)",link:"https://gnomad.broadinstitute.org/region/M-".concat(this.variant.pos-5,"-").concat(this.variant.pos+5,"?dataset=gnomad_r3")},{title:"gnomAD (Variant)",link:"https://gnomad.broadinstitute.org/variant/M-".concat(this.variant.pos,"-").concat(this.variant.ref,"-").concat(this.variant.alt,"?dataset=gnomad_r3")},{title:"MITOMAP ".concat(this.variant.pos),link:"https://mitomap.org/cgi-bin/search_allele?starting=".concat(this.variant.pos,"&ending=").concat(this.variant.pos)}];return this.variant.alleleChange&&t.push({title:"MitoVisualize HGVSg",link:"https://www.mitovisualize.org/variant/m-".concat(this.variant.pos,"-").concat(this.variant.alleleChange)}),this.variant.locus&&t.push({title:"MitoVisualize ".concat(this.variant.locus),link:"https://www.mitovisualize.org/".concat(this.variant.locus)}),t}},methods:{ucscLink:function(t,e){var a={db:"hg38",highlight:"chrM:".concat(t.pos,"-").concat(t.pos),position:"chrM:".concat(parseInt(t.pos)-10,"-").concat(parseInt(t.pos)+10),ruler:"full",knownGene:"pack",refSeqComposite:"pack",omimAvSnp:"full",clinvar:"squish",hgmd:"squish",lovdComp:"squish",omimGene2:"squish",cons100way:"full",dbSnp153Composite:"pack",gnomadVariants:"show",gnomadGenomesVariantsV3_1_1:"pack",rmsk:"dense",hideTracks:1,ignoreCookie:e};return"http://genome.ucsc.edu/cgi-bin/hgTracks?".concat(je["param"](a))},convertHGVSg:function(t,e){return t.HGVS||t.id.replace(/chrM-(\d+)-(\w+)-(\w+)/,(function(t,a,n,i){return e&&i.length>3&&(i="".concat(i[0],"…").concat(i[i.length-1])),"m.".concat(a).concat(n,">").concat(i)}))}}},Be=Ne,Le=Object(v["a"])(Be,xe,ye,!1,null,null,null),Pe=Le.exports;b()(Le,{VList:w["a"],VMenu:F["a"]});var Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.item.mitoTipScore?a("span",[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("span",t._g(t._b({},"span",i,!1),n),[t.item.mitoTipScorePercentile?a("span",[t._v(t._s(t.item.mitoTipScorePercentile)+"%")]):t._e(),"Q4"===t.item.mitoTipQuartile?a("v-icon",{staticStyle:{color:"#008001","margin-right":"-8px"}},[t._v("mdi-arrow-down-thick")]):t._e(),"Q4"===t.item.mitoTipQuartile?a("v-icon",{staticStyle:{color:"#008001"}},[t._v("mdi-arrow-down-thick")]):t._e(),"Q3"===t.item.mitoTipQuartile?a("v-icon",{staticStyle:{color:"#008001"}},[t._v("mdi-arrow-down-thick")]):t._e(),"Q2"===t.item.mitoTipQuartile?a("v-icon",{staticStyle:{color:"#fca500"}},[t._v("mdi-arrow-up-thick")]):t._e(),t.item.diseaseConfirmedPathogenic?a("v-icon",{staticStyle:{color:"#fa0001","margin-right":"-8px"}},[t._v("mdi-arrow-up-thick")]):t._e(),"Q1"===t.item.mitoTipQuartile?a("v-icon",{staticStyle:{color:"#fa0001","margin-right":"-8px"}},[t._v("mdi-arrow-up-thick")]):t._e(),"Q1"===t.item.mitoTipQuartile?a("v-icon",{staticStyle:{color:"#fa0001"}},[t._v("mdi-arrow-up-thick")]):t._e(),t.freqAlert(t.item)?a("v-icon",{staticStyle:{color:"#008001","margin-left":"-8px"}},[t._v("mdi-asterisk")]):t._e()],1)]}}],null,!1,2160472356)},[a("ul",[a("li",[a("v-icon",{staticStyle:{color:"#fa0001","margin-right":"-8px"}},[t._v("mdi-arrow-up-thick")]),a("v-icon",{staticStyle:{color:"#fa0001","margin-right":"-8px"}},[t._v("mdi-arrow-up-thick")]),a("v-icon",{staticStyle:{color:"#fa0001"}},[t._v("mdi-arrow-up-thick")]),t._v(" Confirmed pathogenic ")],1),a("li",[a("v-icon",{staticStyle:{color:"#fa0001","margin-right":"-8px"}},[t._v("mdi-arrow-up-thick")]),a("v-icon",{staticStyle:{color:"#fa0001"}},[t._v("mdi-arrow-up-thick")]),t._v(" Likely pathogenic ")],1),a("li",[a("v-icon",{staticStyle:{color:"#fca500"}},[t._v("mdi-arrow-up-thick")]),t._v(" Possibly pathogenic ")],1),a("li",[a("v-icon",{staticStyle:{color:"#008001"}},[t._v("mdi-arrow-down-thick")]),t._v(" Possibly benign ")],1),a("li",[a("v-icon",{staticStyle:{color:"#008001","margin-right":"-8px"}},[t._v("mdi-arrow-down-thick")]),a("v-icon",{staticStyle:{color:"#008001"}},[t._v("mdi-arrow-down-thick")]),t._v(" Likely benign ")],1),a("li",[a("v-icon",{staticStyle:{color:"#008001"}},[t._v("mdi-asterisk")]),t._v("Frequency alert ")],1)])])],1):t._e()},$e=[],Ue={props:{item:{type:Object,required:!0}},methods:{freqAlert:function(t){if(this.mitoTipCount&&this.mitoTipCount>=10){if(m["includes"]("LMN",this.getFirstHaplogroup)&&t.mitoTipFreq>=1)return!0;if(1===this.getFirstHaplogroup.length&&t.mitoTipFreq>=10)return!0}return!1}}};function Qe(t,e){return(null===t||void 0===t?void 0:t.mitoTipScorePercentile)-(null===e||void 0===e?void 0:e.mitoTipScorePercentile)||-1}function We(t,e){return!!m["isEmpty"](t)||(!(!m["includes"](t,"Confirmed pathogenic")||!e.diseaseConfirmedPathogenic)||(!(!m["includes"](t,"Likely pathogenic")||"Q1"!==e.mitoTipQuartile)||(!(!m["includes"](t,"Possibly pathogenic")||"Q2"!==e.mitoTipQuartile)||(!(!m["includes"](t,"Possibly benign")||"Q3"!==e.mitoTipQuartile)||!(!m["includes"](t,"Likely benign")||"Q4"!==e.mitoTipQuartile)))))}var ze=Ue,Ke=Object(v["a"])(ze,Ge,$e,!1,null,null,null),Ye=Ke.exports;b()(Ke,{VIcon:D["a"],VTooltip:q["a"]});var Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{class:t.filterActive?"filterActive":""},[t.header.tooltip||t.filterActive?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("span",t._g(t._b({},"span",i,!1),n),[t._v(t._s(t.header.text))])]}}],null,!1,1230649918)},[a("span",{staticClass:"text-caption"},[t._v(t._s(t.header.tooltip))]),t.filterActive?a("div",{staticClass:"filteredItemCount"},[a("span",[t._v("Active Filter: "+t._s(t.filteredItemCount)+" of "+t._s(t.tableFilteredVariants.length))])]):t._e()]):a("span",[t._v(t._s(t.header.text))])],1)},Xe=[],Ze={name:"VariantTableHeader",props:{header:{type:Object,required:!0}},computed:Object(c["a"])(Object(c["a"])({},Object(d["c"])(["filteredVariants"])),{},{tableFilteredVariants:function(){return Object.values(this.filteredVariants)},filterActive:function(){return this.filteredItemCount!==this.tableFilteredVariants.length},filteredItemCount:function(){var t=this;if(this.header.filter){var e=this.tableFilteredVariants.filter((function(e){if(e){var a=m["get"](e,t.header.value);return t.header.filter(a,null,e)}return!1}));return e.length}return this.tableFilteredVariants.length}})},ta=Ze,ea=Object(v["a"])(ta,Je,Xe,!1,null,"25dbeebd",null),aa=ea.exports;b()(ea,{VTooltip:q["a"]});a("e6e1"),a("aff5"),a("25f0");function na(t,e){return!(t&&!m["isEmpty"](t)&&e)||t.indexOf(e.displayTerm)>=0}function ia(t,e,a){if(!t)return!0;if(t&&m["isEmpty"](e))return!1;var n=(e.selectedTagNames||[]).some((function(e){return sa(t,e,!1)}));return n||sa(t,a,!1)||sa(t,e.variantNote,!1)}function ra(t,e){if(!t)return!0;var a=m["split"](t,"-",2);if(0===a.length)return!0;if(1===a.length)return m["toNumber"](a[0])===e;var n=a[0]||Number.MIN_SAFE_INTEGER,i=a[1]||Number.MAX_SAFE_INTEGER;return m["inRange"](e,m["toNumber"](n),m["toNumber"](i)+1e-13)}function sa(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t||"",i=e||"";return!(!a||i)||i.toString().toUpperCase().includes(n.toString().toUpperCase())}function oa(t,e){return!t||0===t.length||(e instanceof Object?m["some"](t,(function(t){return m["isEqual"](t,e)})):t.includes(e))}function la(t,e){if(!t||0===t.length)return!0;if(!e||0===e.length)return!1;var a=!1;return e.forEach((function(e){e instanceof Object?m["some"](t,(function(t){return m["isEqual"](t,e)}))&&(a=!0):t.includes(e)&&(a=!0)})),a}function ca(t,e){return!t||0===t.length||(!(!0!==e||!t.includes("True"))||(!(!1!==e||!t.includes("False"))||!(void 0!==e||!t.includes("Null"))))}var ua={name:"VariantTable",props:{variantId:{type:String,required:!1}},components:{CurationCell:Jt,GeneCardsLink:Ht,VariantLinks:Pe,VariantInfo:ue,VariantCuration:ve,VariantCharts:ke,VariantTableHeader:aa,VariantTableMitoTip:Ye},mounted:function(){if(this.toggleVariantById(this.variantId),null!==this&&void 0!==this&&this.allSavedSearches){var t=this.allSavedSearches.find((function(t){return t&&"Current"===t.name}));t?this.onSavedSearchChange(t):(this.onSavedSearchChange(Qt),this.selectedSavedSearch=Qt)}},beforeDestroy:function(){this.saveCurrentSearch()},data:function(){return{filterConfig:{posRange:[0,Pt],allele:"",selectedTypes:[],selectedGenes:[],selectedMasks:[],selectedConsequences:[],selectedMitoTIP:[],gnomADHap:[],vafRange:[0,1],gbFreqTickIndex:6,gnomADHetFreqTickIndex:8,gnomADHomFreqTickIndex:8,disease:"",diseaseShowBlank:!1,curationSearch:"",importantCuration:!1,mitoMap:"",mitoMapShowBlank:!1,selectedCuratedRefName:"",hgvsp:"",hgvspShowBlank:!1,hgvsc:"",hgvscShowBlank:!1,hgvs:"",hgvsShowBlank:!1},searchForm:{valid:!0,name:"",description:""},searchFormMenu:!1,selectedSavedSearch:Qt,vafTicks:[0,.01,.02,.03,.05,.1,1],vafIndexRange:[1,5],gbFreqTicks:[0,.001,.002,.005,.01,.1,1],mitoTipQuartiles:["Confirmed pathogenic","Likely pathogenic","Possibly pathogenic","Possibly benign","Likely benign"],gnomADHetFreqTicks:[0,5e-5,1e-4,2e-4,5e-4,.001,.01,.1,1],gnomADHomFreqTicks:[0,5e-5,1e-4,2e-4,5e-4,.001,.01,.1,1],tableOptions:{itemsPerPage:50,multiSort:!0},tableFooterProps:{itemsPerPageOptions:[10,20,50,100,200]},rules:{required:function(t){return!!t||"Required."}},expandedVariants:[],transitioned:[],closeTimeouts:{},activeVariant:null,displayHaplodata:!1,showQuickTags:!1,currentVariants:[]}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(d["c"])(["filteredVariants","maxReadDepth","settings"])),Object(d["b"])(["getSettingsBamFile","getSampleSettings","getCurationByVariantId","getHaplogroups","getFirstHaplogroup","getFirstFullHaplogroup"])),{},{tableFilteredVariants:function(){return Object.values(this.filteredVariants)},allMasksSelected:function(){return this.filterConfig.selectedMasks.length===Wt.length},someMasksSelected:function(){return this.filterConfig.selectedMasks.length>0&&!this.allMasksSelected},maskSelectAllIcon:function(){return this.allMasksSelected?"mdi-checkbox-marked":this.someMasksSelected?"mdi-minus-box":"mdi-checkbox-blank-outline"},saveSearchDisabled:function(){return!this.searchForm.valid},allSavedSearches:function(){var t=[Qt].concat(this.getSampleSettings.variantSearches),e=m["sortBy"](t,["custom","name"]);return e},allSavedSearchesDisplay:function(){var t=[Qt].concat(this.allSavedSearches).filter((function(t){return t&&"Current"!==t.name}));return t},searchFormNameHint:function(){var t;return null!==(t=this.selectedSavedSearch)&&void 0!==t&&t.custom?"Enter a new name to save as new search":""},MIN_POS:function(){return Lt},MAX_POS:function(){return Pt},COLORS:function(){return Bt},headers:function(){var t=this;return[{text:"HGVS.g",value:"pos",width:"85",filter:this.hgvsgFilter},{text:"Gene",value:"symbols",width:"85",filter:this.genesFilter},{text:"Consequence",tooltip:"Sorting is on severity of consequence",value:"consequence",width:"100",sort:this.consequenceSort,filter:this.consequenceFilter},{text:"MitoTIP",value:"mitotip",width:"100",sort:Qe,filter:function(e,a,n){return We(t.filterConfig.selectedMitoTIP,n)}},{text:"Curation",value:"id",width:"50%",sort:this.curationSort,filter:function(e,a,n){return t.curationFilter(n)}},{text:"Heteroplasmy of Sample",tooltip:"Heteroplasmy freq of variant in sample",value:"genotypes[0].AF",width:"80",filter:this.vafFilter},{text:"Genbank Freq",value:"gbFreq",width:"80",filter:this.gbFreqFilter},{text:"gnomAD Freq (Heteroplasmic)",tooltip:"Proportion of individuals with variant at heteroplasmy between 0.10 - 0.95 in gnomAD",value:"gnomAD.af_het",width:"80",filter:this.gnomADHetFreqFilter},{text:"gnomAD Freq (Homoplasmic)",tooltip:"Proportion of individuals with variant at homoplasmy (heteroplasmy >= 0.95) in gnomAD",value:"gnomAD.af_hom",width:"80",filter:this.gnomADHomFreqFilter},{text:"Heteroplasmy Distribution",tooltip:"Heteroplasmy Distribution of variant from gnomAD",value:"gnomAD.hl_hist",sortable:!1,width:"120"},{text:"Age Distribution (Homoplasmic)",tooltip:"Age Distribution (Homoplasmic) from gnomAD",value:"gnomAD.age_hist_hom",sortable:!1,width:"120"},{text:"Read Depth",value:"DP",sortable:!0,width:"60"}]},types:function(){return Object(Dt["a"])(new Set(Object.values(this.filteredVariants).map((function(t){return t.type}))))},hapRatios:function(){var t=this;return Object.values(this.filteredVariants).reduce((function(e,a){if(a.gnomAD){if(e[a.id]={hapWeight:0},a.gnomAD.af_het&&a.gnomAD.hap_af_het_map[t.getFirstHaplogroup]){var n=e[a.id].hetRatio=a.gnomAD.hap_af_het_map[t.getFirstHaplogroup]/a.gnomAD.af_het;e[a.id].hapWeight=Math.log(n)*Math.log(n)}if(a.gnomAD.af_hom&&a.gnomAD.hap_af_hom_map[t.getFirstHaplogroup]){var i=e[a.id].homRatio=a.gnomAD.hap_af_hom_map[t.getFirstHaplogroup]/a.gnomAD.af_hom;e[a.id].hapWeight+=Math.log(i)*Math.log(i)}}return e}),{})},allMasks:function(){return Wt},genes:function(){var t=Object(Dt["a"])(new Set(Object.values(this.filteredVariants).filter((function(t){return t.symbols})).map((function(t){return t.symbols})).flat()));return t},consequences:function(){var t=Object(Dt["a"])(new Set(Object.values(this.filteredVariants).filter((function(t){return t.consequence})).map((function(t){return t.consequence})).flat()));return t},vafLastTickIndex:function(){return this.vafTicks.length-1},gbFreqLastTickIndex:function(){return this.gbFreqTicks.length-1},gnomADHetFreqLastTickIndex:function(){return this.gnomADHetFreqTicks.length-1},gnomADHomFreqLastTickIndex:function(){return this.gnomADHomFreqTicks.length-1},curatedRefs:function(){return[{name:"All",predicate:function(){return!0}},{name:"0",predicate:function(t){return!t||0===t}},{name:"> 0",predicate:function(t){return t>0}}]}}),methods:{toggleAllMasks:function(){var t=this;this.$nextTick((function(){t.allMasksSelected?t.filterConfig.selectedMasks=[]:t.filterConfig.selectedMasks=Wt.map((function(t){return t.name}))}))},toggleHaplodata:function(){document.getElementById("app").classList.toggle("showHaplodata")},currentItems:function(t){this.currentVariants=t},toggleVariantById:function(t){var e=this.filteredVariants[t];m["isEmpty"](e)||this.toggleVariantExpansion(e)},toggleVariantExpansion:function(t){var e=this,a=t.id,n=this.$refs.variantTable.isExpanded;n&&this.transitioned[a]?this.closeVariantExpansion(t):(this.$refs.variantTable.expand(t,!0),this.$nextTick((function(){e.$set(e.transitioned,a,!0),e.expandedVariants.forEach((function(a){a!==t&&e.closeVariantExpansion(a)}))})),this.$route.params.variantId!==a&&this.$router.push({name:"variantDetails",params:{variantId:t.id}}))},closeVariantExpansion:function(t){var e=t.id;this.$set(this.transitioned,e,!1),this.$refs.variantTable.expand(t,!1)},onSavedSearchChange:function(t){var e=(this.getSampleSettings.variantSearches||[]).find((function(e){return e.name===t.name}))||Qt.name,a=Object.assign({},Qt.filterConfig,e.filterConfig);this.filterConfig=Object.assign({},this.filterConfig,a);var n=this.vafTicks.indexOf(a.vafRange[0]),i=this.vafTicks.indexOf(a.vafRange[1]);this.vafIndexRange=Object.assign([],this.vafIndexRange,[-1===n?0:n,-1===i?this.vafLastTickIndex:i]),null!==t&&void 0!==t&&t.custom?(this.searchForm.name=t.name,this.searchForm.description=t.description):(this.searchForm.name="",this.searchForm.description=""),this.toggleImportantCuration()},saveCurrentSearch:function(){var t={name:"Current",description:"Currently configured filters",custom:!0,filterConfig:Object(c["a"])({},this.filterConfig)};t.filterConfig.vafRange=[this.vafTicks[this.vafIndexRange[0]],this.vafTicks[this.vafIndexRange[1]]],this.$store.dispatch("saveSearch",t)},onSaveSearch:function(){var t=this,e={name:this.searchForm.name,description:this.searchForm.description,custom:!0,filterConfig:Object(c["a"])({},this.filterConfig)};e.filterConfig.vafRange=[this.vafTicks[this.vafIndexRange[0]],this.vafTicks[this.vafIndexRange[1]]],this.$store.dispatch("saveSearch",e),this.selectedSavedSearch=this.allSavedSearches.find((function(e){return e.name===t.searchForm.name}))||Qt,this.searchFormMenu=!1},onDeleteSearch:function(){this.$store.dispatch("deleteSearch",this.selectedSavedSearch),this.selectedSavedSearch=this.allSavedSearches.find((function(t){return t.name===Qt.name})),this.onSavedSearchChange(this.selectedSavedSearch)},posFilter:function(t){return ra("".concat(this.filterConfig.posRange[0],"-").concat(this.filterConfig.posRange[1]),t)},vafFilter:function(t){var e=this.vafTicks[this.vafIndexRange[0]],a=this.vafTicks[this.vafIndexRange[1]];return ra("".concat(e,"-").concat(a),t)},gbFreqFilter:function(t){var e=0,a=this.gbFreqTicks[this.filterConfig.gbFreqTickIndex];return ra("".concat(e,"-").concat(a),t||0)},gnomADHetFreqFilter:function(t){var e=0,a=this.gnomADHetFreqTicks[this.filterConfig.gnomADHetFreqTickIndex];return ra("".concat(e,"-").concat(a),t||0)},gnomADHomFreqFilter:function(t){var e=0,a=this.gnomADHomFreqTicks[this.filterConfig.gnomADHomFreqTickIndex];return ra("".concat(e,"-").concat(a),t||0)},heteroplasmyDistExists:function(t){return m["some"](this.heteroplasmyDistHeights(t),Boolean)},heteroplasmyDistHeights:function(t){var e;return(null===t||void 0===t||null===(e=t.gnomAD)||void 0===e?void 0:e.hl_hist)||[]},heteroplasmyDistLabel:function(t){return this.heteroplasmyDistHeights(t).map((function(){return"-"})).join()},ageDistExists:function(t){return m["some"](this.ageDistHomoHeights(t),Boolean)},ageDistHomoHeights:function(t){var e,a,n,i,r,s,o=(null===t||void 0===t||null===(e=t.gnomAD)||void 0===e||null===(a=e.age_hist_hom)||void 0===a?void 0:a.smaller)||0,l=(null===t||void 0===t||null===(n=t.gnomAD)||void 0===n||null===(i=n.age_hist_hom)||void 0===i?void 0:i.larger)||0;return[o].concat((null===t||void 0===t||null===(r=t.gnomAD)||void 0===r||null===(s=r.age_hist_hom)||void 0===s?void 0:s.bins)||[],[l])},ageDistLabel:function(t){return this.ageDistHomoHeights(t).map((function(){return"-"})).join()},alleleFilter:function(t){return sa(this.filterConfig.allele,t)},typesFilter:function(t){return oa(this.filterConfig.selectedTypes,t)},gnomADHapFilter:function(t){return ca(this.filterConfig.gnomADHap,t)},maskFilter:function(t){var e=!0;return this.filterConfig.selectedMasks.forEach((function(a){var n=null===Wt||void 0===Wt?void 0:Wt.find((function(t){return t.name==a}));t=parseInt(t),n||console.error("Error finding mask:",a),n.end>n.start?n.start<t&&t<n.end&&(e=!1):(t<n.end||n.start<t)&&(e=!1)})),e},genesFilter:function(t,e,a){return la(this.filterConfig.selectedGenes,t)&&this.maskFilter(a.pos)},convertHGVSg:function(t,e){return t.HGVS||t.id.replace(/chrM-(\d+)-(\w+)-(\w+)/,(function(t,a,n,i){return e&&i.length>3&&(i="".concat(i[0],"…").concat(i[i.length-1])),"m.".concat(a).concat(n,">").concat(i)}))},hgvsgFilter:function(t,e,a){return sa(this.filterConfig.hgvsg,this.convertHGVSg(a))&&this.posFilter(a.pos)},removeSelectedHaploFilter:function(t){this.filterConfig.gnomADHap=this.filterConfig.gnomADHap.filter((function(e){return e!==t}))},removeSelectedType:function(t){this.filterConfig.selectedTypes=this.filterConfig.selectedTypes.filter((function(e){return e!==t}))},removeSelectedMask:function(t){this.filterConfig.selectedMasks=this.filterConfig.selectedMasks.filter((function(e){return e!==t}))},removeSelectedGene:function(t){this.filterConfig.selectedGenes=this.filterConfig.selectedGenes.filter((function(e){return e!==t}))},removeSelectedMitoQuartile:function(t){this.filterConfig.selectedMitoTIP=this.filterConfig.selectedMitoTIP.filter((function(e){return e!==t}))},removeSelectedConsequence:function(t){this.filterConfig.selectedConsequences=this.filterConfig.selectedConsequences.filter((function(e){return e!==t.displayTerm}))},consequenceFilter:function(t){return na(this.filterConfig.selectedConsequences,t)},curationSort:function(t,e){return this.curationWeight(t)-this.curationWeight(e)},curationWeight:function(t){var e,a=this.filteredVariants[t],n=this.getCurationByVariantId(t),i=0;(a.Disease&&(i+=2),n.variantNote&&i++,this.displayHaplodata)&&(i+=(null===(e=this.hapRatios[t])||void 0===e?void 0:e.hapWeight)||0);null!==n&&void 0!==n&&n.selectedTagNames&&i++;var r=["Excluded","Mismatch","FalsePositive"];r.forEach((function(t){var e;(null===n||void 0===n||null===(e=n.selectedTagNames)||void 0===e?void 0:e.indexOf(t))>=0&&(i=-1)}));var s=["Review","Likely","Match"];return s.forEach((function(t){var e;(null===n||void 0===n||null===(e=n.selectedTagNames)||void 0===e?void 0:e.indexOf(t))>=0&&(i+=5)})),i},consequenceSort:function(t,e){return(null===t||void 0===t?void 0:t.rank)-(null===e||void 0===e?void 0:e.rank)||-1},hapWeightSort:function(t,e){return this.hapRatios[t]?this.hapRatios[e]?this.hapRatios[t].hapWeight-this.hapRatios[e].hapWeight:1:this.hapRatios[e]?-1:0},hetRatioSort:function(t,e){return this.hapRatios[t]?this.hapRatios[e]?this.hapRatios[t].hetRatio-this.hapRatios[e].hetRatio:1:this.hapRatios[e]?-1:0},homRatioSort:function(t,e){return this.hapRatios[t]?this.hapRatios[e]?this.hapRatios[t].homRatio-this.hapRatios[e].homRatio:1:this.hapRatios[e]?-1:0},gnomADHombundleSort:function(t,e){return t&&t.af_hom?e&&e.af_hom?this.displayHaplodata?t.hap_af_hom_map[this.getFirstHaplogroup]/t.af_hom-e.hap_af_hom_map[this.getFirstHaplogroup]/e.af_hom:t.af_hom-e.af_hom:1:e&&e.af_hom?-1:0},shortenConsequenceOntology:function(t){if(!t)return"";var e=t.replace("variant","").trim();return e.length>25&&(e=e.split(" ").map((function(t){return t.slice(0,1)})).join("").toUpperCase()),e},gnomADHapSort:function(t,e){return a(t)-a(e);function a(t){return void 0!==t?t?1:0:-1}},curationFilter:function(t){var e,a=this.getCurationByVariantId(t.id),n=null===(e=this.filteredVariants[t.id])||void 0===e?void 0:e.Disease;return ia(this.filterConfig.curationSearch,a,n)},toggleImportantCuration:function(){this.$store.dispatch("filterImportantVariants",this.filterConfig.importantCuration)},diseaseFilter:function(t){return sa(this.filterConfig.disease,t,this.filterConfig.diseaseShowBlank)},hgvspFilter:function(t){return sa(this.filterConfig.hgvsp,t,this.filterConfig.hgvspShowBlank)},hgvscFilter:function(t){return sa(this.filterConfig.hgvsc,t,this.filterConfig.hgvscShowBlank)},hgvsFilter:function(t){return sa(this.filterConfig.hgvs,t,this.filterConfig.hgvsShowBlank)}},watch:{filteredVariants:function(){this.toggleVariantById(this.variantId)},$route:function(){this.toggleVariantById(this.variantId)},displayHaplodata:function(){this.toggleHaplodata(this.displayHaplodata)},showQuickTags:function(){this.showQuickTags&&(je("th.text-start.sortable.active.asc").click().click(),je("th.text-start.sortable.active.desc").click())}},filters:{precisionTo:qt}},da=ua,pa=(a("d6e7"),a("cc20")),ga=a("8fea"),ma=a("1800"),ha=a("5963"),fa=a("b974"),va=a("ba0d"),_a=a("7f2e"),ba=a("b73d"),Sa=Object(v["a"])(da,xt,yt,!1,null,"88c53a82",null),Ca=Sa.exports;b()(Sa,{VBtn:S["a"],VCard:C["a"],VCardActions:T["a"],VCardText:T["c"],VCheckbox:k["a"],VChip:pa["a"],VCol:Y["a"],VDataTable:ga["a"],VDivider:x["a"],VForm:y["a"],VIcon:D["a"],VListItem:V["a"],VListItemAction:ma["a"],VListItemContent:I["a"],VListItemTitle:I["c"],VMenu:F["a"],VRangeSlider:ha["a"],VRow:R["a"],VSelect:fa["a"],VSlider:va["a"],VSpacer:H["a"],VSparkline:_a["a"],VSwitch:ba["a"],VTextField:O["a"],VTooltip:q["a"]});var Ta={name:"Variants",components:{VariantTable:Ca},props:{variantId:{type:String,required:!1}}},ka=Ta,xa=Object(v["a"])(ka,Tt,kt,!1,null,null,null),ya=xa.exports,Da=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},wa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"text-subtitle-1"},[t._v("Page not found")])])}],Va={name:"NotFound"},Ia=Va,Aa=Object(v["a"])(Ia,Da,wa,!1,null,null,null),Fa=Aa.exports,Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{md:"3"}},[t.hasCoverageStats?a("v-card",[a("v-card-title",[t._v("Coverage Stats")]),a("v-card-text",[a("v-simple-table",{staticClass:"qc-info",attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",[a("tr",[a("td",[t._v("Mean depth coverage")]),a("td",[t._v(" "+t._s(t._f("precisionTo")(t.sampleMean,5))+" ")])]),a("tr",[a("td",[t._v("Median depth coverage")]),a("td",[t._v(t._s(t._f("precisionTo")(t.sampleMedian,5)))])])])]},proxy:!0}],null,!1,2813857889)})],1)],1):t._e()],1)],1)],1)},Ha=[],Ma={name:"QC",computed:{...Object(d["c"])(["sampleId"]),...Object(d["b"])(["getSampleQc"]),hasCoverageStats(){return this.coverageStats},coverageStats(){return this.getSampleQc.coverageStats},sampleMean(){return this.coverageStats.means[this.sampleId]},sampleMedian(){return this.coverageStats.medians[this.sampleId]}},filters:{precisionTo:qt}},Oa=Ma,qa=Object(v["a"])(Oa,Ra,Ha,!1,null,"7db104e0",null),Ea=qa.exports;b()(qa,{VCard:C["a"],VCardText:T["c"],VCardTitle:T["d"],VCol:Y["a"],VContainer:J["a"],VRow:R["a"],VSimpleTable:le["a"]});var ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",[a("v-card",[a("v-card-title",[t._v("About")]),a("v-card-text",[a("h3",[t._v("Mitoreport")]),a("p",[t._v(" Mitoreport is a tool developed by the Bioinformatics Methods team at the MCRI. This tool generates an automated report of variants within the mitochondria DNA using gnomAD and other resources, and allows manual curation and annotation of these variants. ")]),a("h3",[t._v("gnomAD")]),a("p",[t._v(" The "),a("a",{attrs:{href:"https://gnomad.broadinstitute.org/about",target:"_blank"}},[t._v("Genome Aggregation Database")]),t._v(" (gnomAD) is a resource developed by an international coalition of investigators, with the goal of aggregating and harmonizing both exome and genome sequencing data from a wide variety of large-scale sequencing projects, and making summary data available for the wider scientific community. ")]),a("h3",[t._v("MITOMAP")]),a("p",[a("a",{attrs:{href:"https://mitomap.org/MITOMAP",target:"_blank"}},[t._v("MITOMAP")]),t._v(" reports published data on human mitochondrial DNA variation. MITOMAP is a Service provided by the "),a("a",{attrs:{href:"https://cmem.research.chop.edu/",target:"_blank"}},[t._v("Center for Mitochondrial & Epigenomic Medicine")]),t._v(" at the "),a("a",{attrs:{href:"https://www.chop.edu/",target:"_blank"}},[t._v("Children's Hospital of Philadelphia")]),t._v(". ")]),a("h3",[t._v("MCRI / VCGS")]),a("span",[t._v(" MitoReport has benefited from expertise, advice and input provided by many contributors at the Murdoch Children's Research Institute (MCRI) and the Victorian Clinical Genetics Services (VCGS). In particular we acknowledge the VCGS Clinical Genomics and Targeted Genomics Diagnostics (TGD) groups for their insight into the process for clinical interpretation and processes for validation of mitochondrial testing. We further acknowledge the VCGS Clinical Bioinformatics Unit and Miriam Fanjul Ferdandez for the initial inspiration and groundwork that provided the basis for MitoReport. Finally, we acknowledge the Brain and Mitochondrial Research Group at MCRI who provided us with significant insight and advice into complex issues in mitochondrial variant interpretation. ")]),a("h3",[t._v("AGHA")]),a("span",[t._v(" We thank the Australian Genomics Health Alliance for allowing access to data that to test and validate the operation of MitoReport, as well as the patients and families who allowed their genomic data to be used for research. ")]),a("h3",[t._v("How to cite Mitoreport")]),a("span",[t._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Pariatur at voluptatibus, ipsum, sequi porro earum laboriosam dolorem ullam distinctio magnam quod, quidem delectus sunt aliquam cumque quisquam! Autem, ea nisi?")])])],1)],1),a("v-col",[a("v-card",[a("v-card-title",[t._v("Data")]),a("v-card-text",[a("table",{attrs:{id:"metadata"}},t._l(t.displayedData,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n))]),a("td",[t._v(t._s(e))])])})),0)])],1),t.haplogrepClass?a("v-card",[a("v-card-title",[t._v("Haplogrep Classification")]),a("v-card-text",[a("span",[a("b",[t._v("Has Multiple Base Haplogroups:")]),t._v(" "+t._s(t.haplogrepClass.hasMultipleBaseHaplogroups)+" ")]),a("table",{attrs:{id:"haplogrepClassification"}},[a("tr",[a("td",[t._v("Rank")]),a("td",[t._v("Base Haplogroup")]),a("td",[t._v("Haplogroup")]),a("td",[t._v("Quality")])]),t._l(t.haplogrepClass.haplogrepResults,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.rank))]),a("td",[t._v(t._s(e.baseHaplogroup))]),a("td",[t._v(t._s(e.haplogroup))]),a("td",[t._v(t._s(e.quality))])])}))],2)])],1):t._e()],1)],1)],1)},Na=[],Ba={name:"About",computed:{...Object(d["b"])(["getSampleMetadata","getSampleSettings"]),metadata(){return this.getSampleMetadata},reportDate(){return new Date(this.metadata.accessed).toLocaleString()},sampleSettings(){return this.getSampleSettings},haplogrepClass(){return this.getSampleSettings.haplogrepClassification},displayedData(){const t={"Sample ID":this.getSampleSettings.id,"Report Generated":this.reportDate,"Report Last Modified":this.reportDate,"Report Author":"","gnomAD Version":"v3.1","gnomAD Timestamp":new Date(this.metadata.created).toLocaleString(),"gnomAD Path":this.getSampleMetadata.absolutePath,"Mitoreport Version":this.getSampleMetadata.mitoreportVersion};return this.getSampleMetadata.buildCommit&&m["merge"](t,{"Mitoreport Git Hash":this.getSampleMetadata.buildCommit.slice(1),"Mitoreport Git Date":new Date(this.getSampleMetadata.buildTimestamp).toLocaleString("en-AU")}),t}}},La=Ba,Pa=(a("b857"),Object(v["a"])(La,ja,Na,!1,null,"1632b447",null)),Ga=Pa.exports;b()(Pa,{VCard:C["a"],VCardText:T["c"],VCardTitle:T["d"],VCol:Y["a"],VContainer:J["a"],VRow:R["a"]});var $a=a("8c4f");n["a"].use($a["a"]);var Ua=[{path:"/",redirect:{name:"variants"}},{path:"/variants",name:"variants",component:ya,children:[{path:":variantId",name:"variantDetails",props:function(t){return{variantId:t.params.variantId}}}],props:function(t){return{variantId:t.params.variantId}}},{path:"/deletions",name:"deletions",component:Ct},{path:"/qc",name:"QC",component:Ea},{path:"/about",name:"about",component:Ga},{path:"*",name:"404",component:Fa}],Qa=new $a["a"]({base:"",routes:Ua}),Wa=Qa,za=a("3835");a("b64b"),a("c1f9"),a("4fad");function Ka(){return Ya.apply(this,arguments)}function Ya(){return Ya=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",{status:200,statusText:"OK",data:window.variants});case 1:case"end":return t.stop()}}),t)}))),Ya.apply(this,arguments)}function Ja(){return Xa.apply(this,arguments)}function Xa(){return Xa=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",{status:200,statusText:"OK",data:window.deletions});case 1:case"end":return t.stop()}}),t)}))),Xa.apply(this,arguments)}function Za(t,e,a){return"samples"===a?m["unionBy"]((e||[]).concat(t||[]),"id"):void 0}function tn(t,e,a){return"variantSearches"===a||"variantTags"===a?m["unionBy"]((e||[]).concat(t||[]),"name"):"curations"===a?e:void 0}function en(){return an.apply(this,arguments)}function an(){return an=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=m["cloneDeep"](window.defaultSettings),a=m["cloneDeep"](window.settings),n=JSON.parse(localStorage.getItem("mitoSettings"))||{},i=m["mergeWith"]({},e,a,n,Za),i.samples=i.samples.map((function(t){var i,r,s,o=null===e||void 0===e||null===(i=e.samples)||void 0===i?void 0:i.find((function(e){return e.id===t.id})),l=null===a||void 0===a||null===(r=a.samples)||void 0===r?void 0:r.find((function(e){return e.id===t.id})),c=null===n||void 0===n||null===(s=n.samples)||void 0===s?void 0:s.find((function(e){return e.id===t.id})),u=m["mergeWith"]({},o,l,c,tn);return u})),t.abrupt("return",{status:200,statusText:"OK",data:i});case 6:case"end":return t.stop()}}),t)}))),an.apply(this,arguments)}function nn(t){return rn.apply(this,arguments)}function rn(){return rn=Object(u["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return localStorage.setItem("mitoSettings",JSON.stringify(e)),t.abrupt("return",{status:200,statusText:"OK"});case 2:case"end":return t.stop()}}),t)}))),rn.apply(this,arguments)}var sn=a("21a6"),on=a("ec26");n["a"].use(d["a"]);var ln={sampleId:"",settings:{},loading:!1,snackbar:Object(c["a"])({},Et),variants:{},filteredVariants:{},maxReadDepth:0,deletions:{}};function cn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=m["cloneDeep"](t);null!==e&&(a.samples=a.samples.filter((function(t){return t.id===e})));var n=function(t){return!m["isEmpty"](t.selectedTagNames)||!m["isEmpty"](t.variantNote)};a.samples.forEach((function(t){var e;t.curations=(null===(e=t.curations)||void 0===e?void 0:e.filter(n))||[]}));var i=new Blob(["window.settings = "+JSON.stringify(a,null,2)],{type:"text/json;charset=utf-8"}),r=null===e?"mitoSettings.js":"mitoSettings_".concat(ln.sampleId,".js");Object(sn["saveAs"])(i,r)}var un={getIgvHost:function(t){return t.settings.igvHost||Gt},getGeneCardsUrlPrefix:function(t){return t.settings.geneCardsUrlPrefix||$t},getHaplogroups:function(t,e){var a=e.getSampleSettings.haplogrepClassification;return a&&!m["isEmpty"](a.haplogrepResults)?m["uniq"](Object.keys(a.haplogrepResults).map((function(t){return a.haplogrepResults[t].baseHaplogroup}))):["No Group data provided"]},getFullHaplogroups:function(t,e){var a=e.getSampleSettings.haplogrepClassification;return a&&!m["isEmpty"](a.haplogrepResults)?m["uniq"](Object.keys(a.haplogrepResults).map((function(t){return a.haplogrepResults[t].haplogroup}))):["No Group data provided"]},getFirstFullHaplogroup:function(t,e){return e.getFullHaplogroups[0]},getFirstHaplogroup:function(t,e){return e.getHaplogroups[0]},getHmtVarUrlPrefix:function(t){return t.settings.hmtVarUrlPrefix||Ut},getSampleSettings:function(t){var e;if(!t.sampleId)return{};var a=((null===(e=t.settings)||void 0===e?void 0:e.samples)||[]).find((function(e){return e.id===t.sampleId}));return a||{}},getSampleQc:function(t,e){var a;return(null===(a=e.getSampleSettings)||void 0===a?void 0:a.qc)||{}},getSampleMetadata:function(t,e){var a;return(null===(a=e.getSampleSettings)||void 0===a?void 0:a.metadata)||{}},getSettingsBamDir:function(t,e){var a;return null===(a=e.getSampleSettings)||void 0===a?void 0:a.bamDir},getSettingsBamFilename:function(t,e){var a;return null===(a=e.getSampleSettings)||void 0===a?void 0:a.bamFilename},getSettingsBamFile:function(t,e){var a=e.getSettingsBamDir,n=e.getSettingsBamFilename;return a&&n?"".concat(a).concat(n):null},getVariantById:function(t){return function(e){return t.variants[e]||{}}},getVariantTags:function(t,e){var a;return(null===e||void 0===e||null===(a=e.getSampleSettings)||void 0===a?void 0:a.variantTags)||[]},getImportantVariantTags:function(t,e){return e.getVariantTags.filter((function(t){return t.important}))},getCurationByVariantId:function(t,e){return function(t){var a,n=(null===(a=e.getSampleSettings)||void 0===a?void 0:a.curations)||{};return n[t]||{}}}},dn={SET_SETTINGS:function(t,e){t.settings=e},SET_LOADING:function(t){t.loading=!0},UNSET_LOADING:function(t){t.loading=!1},SET_SAMPLE_ID:function(t,e){var a="No Sample",n=Object.keys(e);n.length>0&&(a=n[0]),t.sampleId=a},SET_VARIANTS:function(t,e){var a={};e.forEach((function(t){a[t.id]=t})),t.variants=a,t.filteredVariants=a;var n=m["union"](e.map((function(t){return m["toNumber"](t.DP)})));t.maxReadDepth=m["max"](n)},SET_FILTERED_VARIANTS:function(t,e){t.filteredVariants=e},SET_DELETIONS:function(t,e){t.deletions=e},SET_BAM_DIR:function(t,e){un.getSampleSettings(t).bamDir=e},SET_USER_TAGS:function(t,e){var a=e.userTags,n=e.currentTags,i=n.filter((function(t){return!t.custom})),r=i.concat(a);un.getSampleSettings(t).variantTags=r},ACTIVATE_SNACKBAR:function(t,e){t.snackbar=m["merge"](Et,{active:!0},e)},DEACTIVATE_SNACKBAR:function(t){t.snackbar=m["merge"](Et,{active:!1})},SET_SAVED_SEARCH:function(t,e){if(e&&e.name&&e.filterConfig){var a=un.getSampleSettings(t).variantSearches.filter((function(t){return t.custom})),n=a.find((function(t){return t.name===e.name}));n?(n.description=e.description,n.filterConfig=Object.assign({},e.filterConfig)):un.getSampleSettings(t).variantSearches.push(e)}},DELETE_SAVED_SEARCH:function(t,e){un.getSampleSettings(t).variantSearches=un.getSampleSettings(t).variantSearches.filter((function(t){return t.name!==e.name}))},SET_CURATION:function(t,e){var a,i=un.getSampleSettings(t).curations,r=i[e.variantId];r||(r={id:Object(on["a"])()}),r.variantId=e.variantId,r.selectedTagNames=(null===(a=e.selectedTags)||void 0===a?void 0:a.map((function(t){return t.name})))||r.selectedTagNames,r.variantNote=e.variantNote||r.variantNote||"",n["a"].set(i,e.variantId,r)}},pn={fetchData:function(t){return Object(u["a"])(regeneratorRuntime.mark((function e(){var a,n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,a("SET_LOADING"),e.prev=2,e.next=5,en();case 5:return n=e.sent,a("SET_SETTINGS",n.data),e.next=9,Ka();case 9:return i=e.sent,e.next=12,Ja();case 12:r=e.sent,a("SET_VARIANTS",i.data),a("SET_DELETIONS",r.data),a("SET_SAMPLE_ID",r.data),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](2),console.error(e.t0),a("ACTIVATE_SNACKBAR",{color:"red",message:"There was a problem fetching data: ".concat(e.t0.message)});case 22:return e.prev=22,a("UNSET_LOADING"),e.finish(22);case 25:console.debug("Finished action fetchData");case 26:case"end":return e.stop()}}),e,null,[[2,18,22,25]])})))()},saveAppSettings:function(t,e){var a=t.dispatch,n=t.commit,i=t.getters,r=e.newBamDir,s=e.userTags,o=i.getVariantTags;n("SET_BAM_DIR",r),n("SET_USER_TAGS",{userTags:s,currentTags:o}),a("removeVariantTags",s),a("saveSettings")},removeVariantTags:function(t,e){var a=t.state,n=t.commit,i=un.getVariantTags(a).map((function(t){return t.name})),r=e.map((function(t){return t.name})),s=i.concat(r);m["cloneDeep"](a.curations||[]).forEach((function(t){var e=t.selectedTagNames.some((function(t){return!s.includes(t)}));t.selectedTagNames=t.selectedTagNames.filter((function(t){return s.includes(t)})),e&&n("SET_CURATION",t)}))},saveSearch:function(t,e){var a=t.commit,n=t.dispatch;a("SET_SAVED_SEARCH",e),n("saveSettings")},deleteSearch:function(t,e){var a=t.commit;e.custom&&a("DELETE_SAVED_SEARCH",e)},saveCuration:function(t,e){var a=t.commit,n=t.dispatch;a("SET_CURATION",e),n("saveSettings")},saveSettings:function(t){var e=t.commit,a=t.state;nn(a.settings).catch((function(t){e("ACTIVATE_SNACKBAR",{color:"red",message:"There was a problem saving settings: ".concat(t.message)})}))},downloadSettings:function(t){var e=t.state;cn(e.settings)},downloadSettingsSample:function(t){var e=t.state;cn(e.settings,e.sampleId)},closeSnackbar:function(t){var e=t.commit;e("DEACTIVATE_SNACKBAR")},filterImportantVariants:function(t,e){var a,n=t.state,i=t.commit,r=t.getters,s=r.getImportantVariantTags.map((function(t){return t.name})),o=(null===r||void 0===r||null===(a=r.getSampleSettings)||void 0===a?void 0:a.curations)||{},l=Object.fromEntries(Object.entries(n.variants).filter((function(t){var a=Object(za["a"])(t,1),n=a[0];if(!e)return!0;var i=o[n]||{},r=(i.selectedTagNames||[]).some((function(t){return s.includes(t)}));return r})));i("SET_FILTERED_VARIANTS",l)}},gn=new d["a"].Store({state:ln,getters:un,mutations:dn,actions:pn,strict:!1});new n["a"]({store:gn,router:Wa,vuetify:s,render:function(t){return t(rt)}}).$mount("#app")},"59f9":function(t,e,a){"use strict";a("7e03")},"6a6e":function(t,e,a){},"6b4a":function(t,e,a){"use strict";a("95cc")},"7e03":function(t,e,a){},"95cc":function(t,e,a){},a947:function(t,e,a){},b857:function(t,e,a){"use strict";a("a947")},d2c7:function(t,e,a){},d6e7:function(t,e,a){"use strict";a("32fe")},e222:function(t,e,a){},ecfe:function(t,e,a){},f02e:function(t,e,a){"use strict";a("3894")}});
//# sourceMappingURL=app.1003b04b.js.map